# ğŸ¦ Zino's Chat - AI äº’åŠ¨æ•™è‚²ç³»ç»Ÿ

<div align="center">

[![Streamlit](https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=Streamlit&logoColor=white)](https://streamlit.io)
[![Qwen](https://img.shields.io/badge/Qwen-4A90E2?style=for-the-badge&logo=ai&logoColor=white)](https://tongyi.aliyun.com/)
[![License](https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge)](LICENSE)

**ä¸æ¿’å±æµ·é¸Ÿ Zino's Petrel å¯¹è¯ï¼Œæ¢ç´¢ç”Ÿæ€ä¿æŠ¤çŸ¥è¯†**

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [åœ¨çº¿ä½“éªŒ](#-åœ¨çº¿ä½“éªŒ) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

Zino's Chat æ˜¯ä¸€ä¸ªåˆ›æ–°çš„ AI äº’åŠ¨æ•™è‚²ç³»ç»Ÿï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿä¸æ¿’å±æµ·é¸Ÿ Zino's Petrelï¼ˆæµè¯ºåœ†å°¾é¹±ï¼‰è¿›è¡Œå¯¹è¯ã€‚ç³»ç»Ÿç»“åˆäº†ï¼š

- ğŸ¤– **Qwen AI æ¨¡å‹** - æ™ºèƒ½å¯¹è¯å’Œè¯­éŸ³åˆæˆ
- ğŸ“š **RAG çŸ¥è¯†åº“** - åŸºäº 1298 ä¸ªç§‘å­¦æ–‡æ¡£å—çš„æƒå¨çŸ¥è¯†
- ğŸ” **æ™ºèƒ½æœç´¢** - è‡ªåŠ¨è¿‡æ»¤æ— å…³å†…å®¹çš„ç½‘ç»œæœç´¢
- ğŸ **äº’åŠ¨ç³»ç»Ÿ** - å‹è°Šå€¼è¯„åˆ†å’Œè´´çº¸å¥–åŠ±
- ğŸŒ **åŒè¯­æ”¯æŒ** - English & PortuguÃªs

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ—£ï¸ æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ
- **è§’è‰²æ‰®æ¼”**: Zino's Petrel åŒ–èº«ï¼ŒçœŸå®äº’åŠ¨ä½“éªŒ
- **è¯­éŸ³åˆæˆ**: Qwen TTS æä¾›è‡ªç„¶æµç•…çš„è¯­éŸ³ï¼ˆæ”¯æŒ Cherry/Ethan éŸ³è‰²ï¼‰
- **åŒè¯­åˆ‡æ¢**: è‹±è¯­/è‘¡è„ç‰™è¯­æ— ç¼åˆ‡æ¢

### ğŸ“š RAG çŸ¥è¯†å¢å¼º
- **æƒå¨çŸ¥è¯†åº“**: åŸºäº 18 ç¯‡ç§‘å­¦è®ºæ–‡ï¼ˆ1298 æ–‡æ¡£å—ï¼‰
- **æ™ºèƒ½æ£€ç´¢**: MMR ç®—æ³•ç¡®ä¿å¤šæ ·æ€§å’Œç›¸å…³æ€§
- **å‘é‡æ•°æ®åº“**: ChromaDB + Qwen Embeddings (text-embedding-v3)

### ğŸ” æ™ºèƒ½äº‹å®éªŒè¯
- **AI æ‘˜è¦ç”Ÿæˆ**: è‡ªåŠ¨æ€»ç»“çŸ¥è¯†åº“å†…å®¹
- **æ™ºèƒ½ç½‘ç»œæœç´¢**: 
  - åŸºäº RAG ä¸Šä¸‹æ–‡ä¼˜åŒ–æœç´¢æŸ¥è¯¢
  - è‡ªåŠ¨è¿‡æ»¤æ— å…³å†…å®¹ï¼ˆç¼–ç¨‹æ¡†æ¶ã€æŠ€æœ¯æ–‡æ¡£ç­‰ï¼‰
  - DuckDuckGo å…è´¹æœç´¢ï¼ˆæ— é™åˆ¶ï¼‰
- **æ¥æºæ ‡æ³¨**: è‡ªåŠ¨å¼•ç”¨æ–‡çŒ®å’Œé¡µç 

### ğŸ äº’åŠ¨æ¿€åŠ±ç³»ç»Ÿ
- **â¤ï¸ Friendship Score**: åŸºäºå¯¹è¯è´¨é‡çš„æ™ºèƒ½è¯„åˆ†
- **ğŸ Sticker å¥–åŠ±**: è§£é”ç‰¹æ®Šä¸»é¢˜è´´çº¸ï¼ˆé£Ÿç‰©ã€å¸®åŠ©ã€å®¶å›­ã€æ—¥å¸¸ï¼‰
- **ğŸ… æˆå°±å‹‹ç« **: è¾¾åˆ°æ»¡åˆ†è·å¾—ç¥ç§˜ç¤¼ç‰©

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ 1ï¼šæœ¬åœ°éƒ¨ç½²ï¼ˆæ¨èï¼‰â­

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ä½ çš„ç”¨æˆ·å/zinos-chat.git
cd zinos-chat
```

#### 2. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 3. é…ç½® API Keys
å¤åˆ¶ `config.env.template` ä¸º `.env`ï¼Œå¡«å…¥ä½ çš„ API Keysï¼š

```env
# å¿…éœ€é…ç½®
DASHSCOPE_API_KEY=sk-ä½ çš„Qwenå¯†é’¥
SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co
SUPABASE_KEY=ä½ çš„Supabaseå¯†é’¥

# å¯é€‰é…ç½®
USE_WEB_SEARCH=true
WEB_SEARCH_PROVIDER=duckduckgo
```

**è·å– API Keysï¼š**
- [Qwen API](https://dashscope.aliyun.com/) - å…è´¹é¢åº¦å¯ç”¨
- [Supabase](https://supabase.com/) - å…è´¹è®¡åˆ’è¶³å¤Ÿ

#### 4. è®¾ç½® RAG çŸ¥è¯†åº“
```bash
# Windows
setup_rag_system.bat

# Mac/Linux
pip install tqdm
python vectorize_knowledge_base.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
âœ… å‘é‡æ•°æ®åº“åˆ›å»ºæˆåŠŸï¼
ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:
   - æ–‡æ¡£æ•°é‡: 1298 blocks
   - åµŒå…¥æ¨¡å‹: text-embedding-v3
   - å‘é‡åº“è·¯å¾„: db5_qwen
```

#### 5. å¯ç”¨æ™ºèƒ½ç½‘ç»œæœç´¢ï¼ˆå¯é€‰ï¼‰
```bash
# å·²åŒ…å«åœ¨ requirements.txt ä¸­ï¼Œæ— éœ€é¢å¤–å®‰è£…
# å¦‚éœ€å•ç‹¬å®‰è£…ï¼š
pip install ddgs
```

#### 6. è¿è¡Œåº”ç”¨
```bash
streamlit run main.py
```

è®¿é—®: http://localhost:8501

---

### æ–¹å¼ 2ï¼šåœ¨çº¿ä½“éªŒ ğŸŒ

#### Streamlit Cloud éƒ¨ç½²

1. Fork æœ¬é¡¹ç›®åˆ°ä½ çš„ GitHub
2. è®¿é—® [Streamlit Cloud](https://share.streamlit.io/)
3. è¿æ¥ GitHub ä»“åº“å¹¶éƒ¨ç½²
4. åœ¨ Streamlit è®¾ç½®ä¸­é…ç½® Secretsï¼š
```toml
DASHSCOPE_API_KEY = "sk-ä½ çš„å¯†é’¥"
SUPABASE_URL = "https://ä½ çš„é¡¹ç›®.supabase.co"
SUPABASE_KEY = "ä½ çš„å¯†é’¥"
USE_WEB_SEARCH = "true"
WEB_SEARCH_PROVIDER = "duckduckgo"
```

**è¯¦ç»†æ­¥éª¤**: å‚è€ƒ [QUICK_DEPLOY.md](QUICK_DEPLOY.md)

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
zinos-chat/
â”œâ”€â”€ main.py                          # ä¸»åº”ç”¨
â”œâ”€â”€ config.py                        # é…ç½®ç®¡ç†
â”œâ”€â”€ requirements.txt                 # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ config.env.template              # é…ç½®æ¨¡æ¿
â”‚
â”œâ”€â”€ æ ¸å¿ƒæ¨¡å—/
â”‚   â”œâ”€â”€ rag_utils.py                 # RAG æ£€ç´¢é€»è¾‘
â”‚   â”œâ”€â”€ fact_check_utils.py          # äº‹å®éªŒè¯ï¼ˆæ‘˜è¦+æœç´¢ï¼‰
â”‚   â””â”€â”€ tts_utils.py                 # è¯­éŸ³åˆæˆ
â”‚
â”œâ”€â”€ çŸ¥è¯†åº“/
â”‚   â”œâ”€â”€ Zino's Petrel/               # 18 ç¯‡ PDF ç§‘å­¦æ–‡çŒ®
â”‚   â”œâ”€â”€ vectorize_knowledge_base.py  # å‘é‡åŒ–è„šæœ¬
â”‚   â””â”€â”€ db5_qwen/                    # å‘é‡æ•°æ®åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚
â”œâ”€â”€ æµ‹è¯•è„šæœ¬/
â”‚   â”œâ”€â”€ test_rag_quality.py          # RAG è´¨é‡æµ‹è¯•
â”‚   â””â”€â”€ test_user_questions.py       # ç”¨æˆ·é—®é¢˜æµ‹è¯•
â”‚
â”œâ”€â”€ å·¥å…·è„šæœ¬/
â”‚   â””â”€â”€ setup_rag_system.bat         # RAG ä¸€é”®è®¾ç½®
â”‚
â”œâ”€â”€ èµ„æºæ–‡ä»¶/
â”‚   â”œâ”€â”€ zino.png                     # Zino å¤´åƒ
â”‚   â”œâ”€â”€ gift.png                     # ç¤¼ç‰©å›¾ç‰‡
â”‚   â””â”€â”€ stickers/                    # è´´çº¸å›¾ç‰‡
â”‚
â””â”€â”€ æ–‡æ¡£/
    â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
    â””â”€â”€ QUICK_DEPLOY.md              # å¿«é€Ÿéƒ¨ç½²æŒ‡å—
```

---

## ğŸ§ª æµ‹è¯•ä¸éªŒè¯

### RAG è´¨é‡æµ‹è¯•
```bash
# å®Œæ•´æµ‹è¯•
python test_rag_quality.py

# ç”¨æˆ·é—®é¢˜æµ‹è¯•
python test_user_questions.py
```

**æœŸæœ›ç»“æœï¼š**
- âœ… æ£€ç´¢è´¨é‡: ä¼˜ç§€ï¼ˆè¦†ç›–ç‡ â‰¥75%ï¼‰
- âœ… é€šè¿‡ç‡: â‰¥78%
- âœ… å¹³å‡è¦†ç›–ç‡: â‰¥50%

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| **AI æ¨¡å‹** | Qwen (é€šä¹‰åƒé—®) | LLMã€Embeddingsã€TTS |
| **å‰ç«¯æ¡†æ¶** | Streamlit | Web åº”ç”¨ç•Œé¢ |
| **å‘é‡æ•°æ®åº“** | ChromaDB | çŸ¥è¯†åº“å­˜å‚¨ |
| **RAG æ¡†æ¶** | LangChain | æ£€ç´¢å¢å¼ºç”Ÿæˆ |
| **ç½‘ç»œæœç´¢** | DuckDuckGo (ddgs) | å…è´¹äº’è”ç½‘æœç´¢ |
| **æ•°æ®åº“** | Supabase | äº¤äº’è®°å½•å­˜å‚¨ |
| **æ–‡æ¡£å¤„ç†** | PyPDF | PDF è§£æ |

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### RAG æ£€ç´¢è´¨é‡
- **æ–‡æ¡£æ•°é‡**: 1298 blocks
- **æ£€ç´¢ç²¾åº¦**: ~90%ï¼ˆå…³é”®è¯è¦†ç›–ç‡ï¼‰
- **å¹³å‡å“åº”æ—¶é—´**: <1ç§’

### æ™ºèƒ½æœç´¢ä¼˜åŒ–
- **æœç´¢ç²¾å‡†åº¦**: ~90%ï¼ˆä¼˜åŒ–åï¼‰
- **ç›¸å…³ç»“æœå æ¯”**: 100%ï¼ˆè¿‡æ»¤åï¼‰
- **æ— å…³ç»“æœæ•°**: 0ï¼ˆè‡ªåŠ¨è¿‡æ»¤ï¼‰

### ç”¨æˆ·ä½“éªŒ
- **å¯¹è¯æµç•…åº¦**: â­â­â­â­â­
- **çŸ¥è¯†å‡†ç¡®æ€§**: â­â­â­â­â­
- **ç•Œé¢å‹å¥½åº¦**: â­â­â­â­â­

---

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [QUICK_DEPLOY.md](QUICK_DEPLOY.md) | å¿«é€Ÿéƒ¨ç½²æŒ‡å—ï¼ˆâ­ æ¨èæ–°æ‰‹ï¼‰ |
| [docs/COMPLETE_GUIDE.md](docs/COMPLETE_GUIDE.md) | å®Œæ•´ä½¿ç”¨æŒ‡å— |
| [docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md) | å¸¸è§é—®é¢˜è§£å†³ |
| [docs/RAG_SETUP_GUIDE.md](docs/RAG_SETUP_GUIDE.md) | RAG ç³»ç»Ÿè®¾ç½® |
| [docs/WEB_SEARCH_GUIDE.md](docs/WEB_SEARCH_GUIDE.md) | ç½‘ç»œæœç´¢é…ç½® |
| [docs/SMART_SEARCH_QUICK_START.md](docs/SMART_SEARCH_QUICK_START.md) | æ™ºèƒ½æœç´¢ä¼˜åŒ– |
| [docs/TEST_GUIDE.md](docs/TEST_GUIDE.md) | æµ‹è¯•æŒ‡å— |

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

<details>
<summary><b>1. DDGS åŒ…é”™è¯¯</b></summary>

**é”™è¯¯ï¼š** `DDGS.text() missing 1 required positional argument: 'query'`

**è§£å†³ï¼š**
```bash
# å¸è½½æ—§åŒ…ï¼Œå®‰è£…æ–°åŒ…
pip uninstall duckduckgo-search -y
pip install ddgs
```
</details>

<details>
<summary><b>2. å‘é‡æ•°æ®åº“ä¸ºç©º</b></summary>

**é”™è¯¯ï¼š** `æ–‡æ¡£æ•°é‡: 0`

**è§£å†³ï¼š**
```bash
.\fix_vectordb.bat

# æˆ–æ‰‹åŠ¨ä¿®å¤
pip install ddgs
python vectorize_knowledge_base.py
```
</details>

<details>
<summary><b>3. TTS è¯­éŸ³å¤±è´¥</b></summary>

**é”™è¯¯ï¼š** `Qwen TTS failed`

**è§£å†³ï¼š** åœ¨ `.env` ä¸­æ£€æŸ¥é…ç½®
```env
QWEN_TTS_MODEL=qwen3-tts-flash
QWEN_TTS_VOICE=Cherry
```
</details>

**æ›´å¤šé—®é¢˜**: å‚è€ƒ [docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md)

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸŒŸ è‡´è°¢

- **Qwen (é€šä¹‰åƒé—®)** - æä¾›å¼ºå¤§çš„ AI èƒ½åŠ›
- **Streamlit** - ä¼˜ç§€çš„ Web æ¡†æ¶
- **LangChain** - RAG æ¡†æ¶æ”¯æŒ
- **ç§‘å­¦æ–‡çŒ®è´¡çŒ®è€…** - æä¾› Zino's Petrel ç ”ç©¶èµ„æ–™

---

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®é“¾æ¥: [https://github.com/ä½ çš„ç”¨æˆ·å/zinos-chat](https://github.com/ä½ çš„ç”¨æˆ·å/zinos-chat)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/ä½ çš„ç”¨æˆ·å/zinos-chat/issues)

---

<div align="center">

**ç”¨ AI å®ˆæŠ¤æ¿’å±ç‰©ç§ï¼Œè®©æ•™è‚²æ›´æœ‰æ¸©åº¦** ğŸ’™

[â¬† å›åˆ°é¡¶éƒ¨](#-zinos-chat---ai-äº’åŠ¨æ•™è‚²ç³»ç»Ÿ)

</div>
