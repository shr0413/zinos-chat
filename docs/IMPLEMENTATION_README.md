# Zino's Chat - å®æ–½æŒ‡å—æ€»è§ˆ

> **ğŸ‰ é‡å¤§æ›´æ–°ï¼** åŸºäº Qwen TTSï¼Œæ–¹æ¡ˆå¤§å¹…ç®€åŒ–ï¼  
> - âœ… é…ç½®é¡¹å‡å°‘ 50%ï¼ˆä» 8 é¡¹åˆ° 4 é¡¹ï¼‰  
> - âœ… æˆæœ¬èŠ‚çœ 100%ï¼ˆTTS å®Œå…¨å…è´¹ï¼‰  
> - âœ… å®æ–½æ—¶é—´å‡å°‘ 2 å°æ—¶  
> ğŸ“– æŸ¥çœ‹è¯¦æƒ…ï¼š[`UPDATED_PLAN.md`](./UPDATED_PLAN.md)

## ğŸ“š æ–‡æ¡£å¯¼èˆª

æ¬¢è¿ï¼è¿™æ˜¯ Zino's Chat é¡¹ç›®çš„å®Œæ•´å®æ–½æŒ‡å—ã€‚æ ¹æ®ä½ çš„éœ€è¦ï¼Œé€‰æ‹©å¯¹åº”çš„æ–‡æ¡£ï¼š

### ğŸ¯ å¿«é€Ÿå¯¼èˆª

| ä½ æƒ³è¦... | æŸ¥çœ‹æ–‡æ¡£ | ç”¨æ—¶ |
|-----------|---------|------|
| **â­ æŸ¥çœ‹æ–¹æ¡ˆæ›´æ–°** | [`UPDATED_PLAN.md`](./UPDATED_PLAN.md) | 5åˆ†é’Ÿ |
| **ğŸ¤ TTS å®æ–½æ–¹æ¡ˆ** | [`TTS_IMPLEMENTATION.md`](./TTS_IMPLEMENTATION.md) | 10åˆ†é’Ÿ |
| **ç«‹å³å¼€å§‹** | [`QUICK_START.md`](./QUICK_START.md) | 30åˆ†é’Ÿ |
| **é…ç½®ç¯å¢ƒ** | [`CONFIG_GUIDE.md`](./CONFIG_GUIDE.md) | 15åˆ†é’Ÿ |
| **5å¤©è¯¦ç»†ä»»åŠ¡** | [`QWEN_TASK_TRACKER.md`](./QWEN_TASK_TRACKER.md) | 15åˆ†é’Ÿ |
| **äº†è§£æŠ€æœ¯æ–¹æ¡ˆ** | [`QWEN_MIGRATION_PLAN.md`](./QWEN_MIGRATION_PLAN.md) | 20åˆ†é’Ÿ |
| **ç†è§£é¡¹ç›®ç»“æ„** | [`PROJECT_DOCUMENTATION.md`](./PROJECT_DOCUMENTATION.md) | 30åˆ†é’Ÿ |

---

## ğŸš€ 30åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### Step 1: é…ç½®ç¯å¢ƒï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# 1. å¤åˆ¶é…ç½®æ¨¡æ¿
cp config.env.template .env

# 2. å¡«å……å¿…éœ€é…ç½®ï¼ˆè§ CONFIG_GUIDE.mdï¼‰
# å¿…éœ€ï¼ˆä»…3é¡¹ï¼‰ï¼š
# - DASHSCOPE_API_KEYï¼ˆLLM + TTS + Embeddingsï¼‰
# - SUPABASE_URL
# - SUPABASE_KEY

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install dashscope langchain-community python-dotenv
```

### Step 2: å¯åŠ¨åº”ç”¨ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# å¯åŠ¨
streamlit run main.py

# è®¿é—®
http://localhost:8501
```

### Step 3: å¼€å§‹å¼€å‘ï¼ˆ15åˆ†é’Ÿï¼‰

æŒ‰ç…§ [`PHASED_PLAN.md`](./PHASED_PLAN.md) å¼€å§‹é˜¶æ®µ0ä»»åŠ¡

---

## ğŸ“‹ 5å¤©å®æ–½è®¡åˆ’

### é˜¶æ®µåˆ’åˆ†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Day 1: é˜¶æ®µ0 - åŸºç¡€è¿ç§» (OpenAI â†’ Qwen)      â”‚
â”‚ âœ… ç¯å¢ƒé…ç½® â†’ LLMæ›¿æ¢ â†’ æµ‹è¯•                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Day 2: é˜¶æ®µ1 - éœ€æ±‚1: TTSè¯­éŸ³å‡çº§            â”‚
â”‚ âœ… é˜¿é‡Œäº‘TTS â†’ è‡ªç„¶è¯­éŸ³ â†’ é™çº§æ–¹æ¡ˆ            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Day 3: é˜¶æ®µ2 - éœ€æ±‚2: RAGæ£€ç´¢ä¼˜åŒ–            â”‚
â”‚ âœ… Embeddingsè¿ç§» â†’ é‡å»ºå‘é‡åº“ â†’ å»é‡         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Day 4: é˜¶æ®µ3 - éœ€æ±‚3: æ™ºèƒ½ä½“å®æ—¶æœç´¢         â”‚
â”‚ âœ… æ™ºèƒ½è·¯ç”± â†’ å®æ—¶æœç´¢ â†’ çŸ¥è¯†èåˆ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Day 5: é˜¶æ®µ4 - æ•´åˆæµ‹è¯•ä¸ä¸Šçº¿                â”‚
â”‚ âœ… å…¨é¢æµ‹è¯• â†’ æ€§èƒ½ä¼˜åŒ– â†’ æ–‡æ¡£å®Œå–„             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†ä»»åŠ¡

æ¯ä¸ªé˜¶æ®µçš„è¯¦ç»†ä»»åŠ¡è§ [`PHASED_PLAN.md`](./PHASED_PLAN.md)

---

## ğŸ¯ ä¸‰å¤§æ ¸å¿ƒéœ€æ±‚

### éœ€æ±‚1ï¼šTTS è¯­éŸ³å‡çº§ âœ…
**ç›®æ ‡**ï¼šè‡ªç„¶è¯­éŸ³åˆæˆï¼Œæå‡60%è‡ªç„¶åº¦

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- gTTS â†’ é˜¿é‡Œäº‘ CosyVoice
- ä¿æŒ Base64 + HTML5 æ’­æ”¾
- gTTS ä½œä¸ºé™çº§æ–¹æ¡ˆ

**å®æ–½æ–‡æ¡£**ï¼š[`PHASED_PLAN.md`](./PHASED_PLAN.md) - é˜¶æ®µ1

---

### éœ€æ±‚2ï¼šRAG æ£€ç´¢ä¼˜åŒ– âœ…
**ç›®æ ‡**ï¼šè§£å†³é‡å¤æ£€ç´¢ï¼Œæå‡å¤šæ ·æ€§40%

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- è°ƒæ•´ MMR å‚æ•°ï¼ˆlambda=0.5ï¼‰
- å¯¹è¯å†å²å»é‡
- å¯é€‰ï¼šæ··åˆæ£€ç´¢ã€é‡æ’åº

**å®æ–½æ–‡æ¡£**ï¼š[`PHASED_PLAN.md`](./PHASED_PLAN.md) - é˜¶æ®µ2

---

### éœ€æ±‚3ï¼šæ™ºèƒ½ä½“å®æ—¶æœç´¢ âœ…
**ç›®æ ‡**ï¼šRAG + å®æ—¶æœç´¢æ··åˆå¢å¼º

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- æ™ºèƒ½è·¯ç”±å±‚ï¼ˆQwenåˆ¤æ–­ï¼‰
- DuckDuckGo æœç´¢ï¼ˆå…è´¹ï¼‰
- çŸ¥è¯†èåˆ + æ¥æºæ ‡æ³¨

**å®æ–½æ–‡æ¡£**ï¼š[`PHASED_PLAN.md`](./PHASED_PLAN.md) - é˜¶æ®µ3

---

## ğŸ“¦ æ ¸å¿ƒäº¤ä»˜ç‰©

### ä»£ç æ¨¡å—

```
zinos-chat/
â”œâ”€â”€ .env                    # é…ç½®æ–‡ä»¶ âœ…
â”œâ”€â”€ config.py               # é…ç½®åŠ è½½ âœ…
â”œâ”€â”€ main.py                 # ä¸»åº”ç”¨ï¼ˆæ›´æ–°ï¼‰
â”œâ”€â”€ tts_handler.py          # TTSå¤„ç†æ¨¡å— â­
â”œâ”€â”€ rag_optimizer.py        # RAGä¼˜åŒ–æ¨¡å— â­
â”œâ”€â”€ agent_router.py         # æ™ºèƒ½è·¯ç”±æ¨¡å— â­
â”œâ”€â”€ knowledge_fusion.py     # çŸ¥è¯†èåˆæ¨¡å— â­
â””â”€â”€ rebuild_vectordb.py     # å‘é‡åº“é‡å»º â­
```

### æ–‡æ¡£ä½“ç³»

```
docs/
â”œâ”€â”€ QUICK_START.md          # å¿«é€Ÿå¼€å§‹ âœ…
â”œâ”€â”€ CONFIG_GUIDE.md         # é…ç½®æŒ‡å— âœ…
â”œâ”€â”€ PHASED_PLAN.md          # é˜¶æ®µè®¡åˆ’ âœ…
â”œâ”€â”€ QWEN_TASK_TRACKER.md    # ä»»åŠ¡è¿½è¸ª âœ…
â”œâ”€â”€ QWEN_MIGRATION_PLAN.md  # è¿ç§»æ–¹æ¡ˆ âœ…
â””â”€â”€ PROJECT_DOCUMENTATION.md # é¡¹ç›®æ–‡æ¡£ âœ…
```

---

## ğŸ”‘ å¿…éœ€ API Keys

### ç«‹å³è·å–

| API | è·å–åœ°å€ | ç”¨é€” | æˆæœ¬ |
|-----|---------|------|------|
| **Qwen** | https://dashscope.aliyun.com/ | LLM + TTS + Embeddings | **å…è´¹é¢åº¦** |
| **Supabase** | https://app.supabase.com/ | æ•°æ®åº“ | å…è´¹ |

### å¯é€‰è·å–

| API | è·å–åœ°å€ | ç”¨é€” | æˆæœ¬ |
|-----|---------|------|------|
| Tavily | https://tavily.com/ | é«˜çº§æœç´¢ | $10/æœˆ |
| Cohere | https://dashboard.cohere.com/ | é‡æ’åº | $20/æœˆ |

è¯¦ç»†æŒ‡å—ï¼š[`CONFIG_GUIDE.md`](./CONFIG_GUIDE.md)

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] æ‰€æœ‰ OpenAI API å·²æ›¿æ¢ä¸º Qwen
- [ ] å¯¹è¯ã€è¯„åˆ†ã€è¯­ä¹‰åŒ¹é…æ­£å¸¸
- [ ] è¯­éŸ³è‡ªç„¶åº¦ > 4.0/5
- [ ] æ£€ç´¢æ— é‡å¤ï¼Œå¤šæ ·æ€§æå‡
- [ ] æ™ºèƒ½ä½“è·¯ç”±å‡†ç¡®ç‡ > 85%

### æ€§èƒ½æŒ‡æ ‡
- [ ] å¹³å‡å“åº”å»¶è¿Ÿ < 3ç§’
- [ ] å‘é‡æ£€ç´¢å‡†ç¡®ç‡ > 85%
- [ ] ç³»ç»Ÿç¨³å®šè¿è¡Œ24å°æ—¶

### æˆæœ¬æ§åˆ¶
- [ ] æœˆåº¦æˆæœ¬ < $10
- [ ] åœ¨å…è´¹é¢åº¦å†…è¿è¡Œ
- [ ] ç›‘æ§å‘Šè­¦æ­£å¸¸

---

## ğŸ’° æˆæœ¬å¯¹æ¯”

### è¿ç§»å‰ï¼ˆOpenAIï¼‰
- LLM: $20/æœˆ
- Embeddings: $1/æœˆ
- TTS: $7.5/æœˆ
- **æ€»è®¡ï¼š$28.5/æœˆ**

### è¿ç§»åï¼ˆQwenï¼‰
- LLM: å…è´¹ï¼ˆé¢åº¦å†…ï¼‰
- Embeddings: å…è´¹ï¼ˆé¢åº¦å†…ï¼‰
- TTS: **å…è´¹**ï¼ˆé¢åº¦å†…ï¼‰âœ¨
- **æ€»è®¡ï¼š$0/æœˆ**

**èŠ‚çœï¼š100%ï¼** ğŸ’°ğŸ‰

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

### TODO åˆ—è¡¨

- [ ] é˜¶æ®µ0ï¼šåŸºç¡€è¿ç§» OpenAI â†’ Qwen (Day 1)
- [ ] é˜¶æ®µ1ï¼šéœ€æ±‚1 - TTSè¯­éŸ³å‡çº§ (Day 2)
- [ ] é˜¶æ®µ2ï¼šéœ€æ±‚2 - RAGæ£€ç´¢ä¼˜åŒ– (Day 3)
- [ ] é˜¶æ®µ3ï¼šéœ€æ±‚3 - æ™ºèƒ½ä½“å®æ—¶æœç´¢ (Day 4)
- [ ] é˜¶æ®µ4ï¼šæ•´åˆæµ‹è¯•ä¸ä¸Šçº¿ (Day 5)

### å½“å‰çŠ¶æ€
**è¿›åº¦ï¼š0/5 é˜¶æ®µå®Œæˆ**  
**çŠ¶æ€ï¼šâœ… è®¡åˆ’å°±ç»ªï¼Œç­‰å¾…æ‰§è¡Œ**

---

## âš ï¸ å…³é”®é£é™©

### ğŸ”´ é«˜é£é™©
1. **Day 3 å‘é‡åº“é‡å»º**
   - è€—æ—¶ 1-2 å°æ—¶
   - éœ€è¦åŸå§‹ PDF æ–‡æ¡£
   - å¤‡ä»½ `db5/` ç›®å½•

### ğŸŸ¡ ä¸­é£é™©
1. **API é™æµ**
   - å…è´¹é¢åº¦æœ‰é™
   - è®¾ç½®è°ƒç”¨é™åˆ¶
   
2. **TTS é›†æˆå¤æ‚**
   - å¤‡ç”¨ gTTS é™çº§
   - æˆ–ä½¿ç”¨ Edge TTS

### ç¼“è§£æªæ–½
è§ [`PHASED_PLAN.md`](./PHASED_PLAN.md) æ¯ä¸ªé˜¶æ®µçš„é£é™©éƒ¨åˆ†

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. å‡†å¤‡é˜¶æ®µ
```bash
# å…‹éš†é¡¹ç›®
git clone <repo>
cd zinos-chat

# é…ç½®ç¯å¢ƒ
cp .env .env
# ç¼–è¾‘ .envï¼Œå¡«å…… API Keys

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. å¼€å‘é˜¶æ®µ
```bash
# æŒ‰é˜¶æ®µæ‰§è¡Œ
# Day 1: é˜¶æ®µ0
python verify_config.py  # éªŒè¯é…ç½®
# ä¿®æ”¹ä»£ç ...

# Day 2: é˜¶æ®µ1
# åˆ›å»º tts_handler.py...

# Day 3: é˜¶æ®µ2
python rebuild_vectordb.py  # é‡å»ºå‘é‡åº“

# Day 4: é˜¶æ®µ3
# åˆ›å»º agent_router.py...

# Day 5: é˜¶æ®µ4
# æµ‹è¯•...
```

### 3. æµ‹è¯•é˜¶æ®µ
```bash
# å¯åŠ¨åº”ç”¨
streamlit run main.py

# è®¿é—®æµ‹è¯•
http://localhost:8501

# è¿è¡Œæµ‹è¯•
python test_intimacy_scoring.py
python test_rag_diversity.py
```

### 4. éƒ¨ç½²é˜¶æ®µ
```bash
# ç”Ÿäº§é…ç½®
cp .env.production .env

# éƒ¨ç½²
# ï¼ˆè§å…·ä½“éƒ¨ç½²å¹³å°æ–‡æ¡£ï¼‰
```

---

## ğŸ“ æ”¯æŒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Qwen API](https://help.aliyun.com/zh/dashscope/)
- [LangChain Tongyi](https://python.langchain.com/docs/integrations/llms/tongyi)
- [é˜¿é‡Œäº‘ TTS](https://help.aliyun.com/zh/isi/)
- [Supabase](https://supabase.com/docs)

### ç¤¾åŒºæ”¯æŒ
- é˜¿é‡Œäº‘å·¥å•ï¼šhttps://selfservice.console.aliyun.com/ticket
- LangChain Discordï¼šhttps://discord.gg/langchain
- Supabase Discordï¼šhttps://discord.supabase.com/

### é¡¹ç›®æ–‡æ¡£
- æŠ€æœ¯é—®é¢˜ï¼š[`QWEN_MIGRATION_PLAN.md`](./QWEN_MIGRATION_PLAN.md)
- é…ç½®é—®é¢˜ï¼š[`CONFIG_GUIDE.md`](./CONFIG_GUIDE.md)
- ä»»åŠ¡æ‰§è¡Œï¼š[`PHASED_PLAN.md`](./PHASED_PLAN.md)

---

## ğŸ‰ å¼€å§‹å®æ–½

### ç«‹å³æ‰§è¡Œï¼ˆ5åˆ†é’Ÿï¼‰

1. **é˜…è¯»å¿«é€Ÿå¼€å§‹**
   ```bash
   # æŸ¥çœ‹
   cat QUICK_START.md
   ```

2. **é…ç½®ç¯å¢ƒ**
   ```bash
   # å¤åˆ¶æ¨¡æ¿
   cp .env .env
   
   # ç¼–è¾‘å¡«å……
   vim .env
   ```

3. **éªŒè¯é…ç½®**
   ```bash
   # è¿è¡ŒéªŒè¯
   python verify_config.py
   ```

4. **å¼€å§‹ Day 1**
   ```bash
   # æŸ¥çœ‹ä»»åŠ¡
   cat PHASED_PLAN.md
   
   # å¼€å§‹å¼€å‘
   # ...
   ```

---

## ğŸ“ æœ€åæ£€æŸ¥æ¸…å•

å¼€å§‹å‰ç¡®è®¤ï¼š
- [ ] å·²é˜…è¯» `QUICK_START.md`
- [ ] å·²åˆ›å»ºå¹¶å¡«å…… `.env`
- [ ] å·²è·å–æ‰€æœ‰å¿…éœ€ API Keys
- [ ] å·²å®‰è£…æ‰€æœ‰ä¾èµ–
- [ ] å·²å¤‡ä»½åŸå§‹ä»£ç 
- [ ] å·²ç†è§£ 5 å¤©è®¡åˆ’
- [ ] å·²å‡†å¤‡å¼€å‘ç¯å¢ƒ

**å…¨éƒ¨å‹¾é€‰ï¼Ÿå¼€å§‹é˜¶æ®µ0ï¼** ğŸš€

---

**é¡¹ç›®ç‰ˆæœ¬**ï¼š2.0.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2025-10-06  
**é¢„è®¡å®Œæˆ**ï¼š2025-10-10  
**çŠ¶æ€**ï¼šâœ… å°±ç»ª


